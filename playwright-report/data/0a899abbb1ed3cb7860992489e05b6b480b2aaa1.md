# Test info

- Name: Brief Workflow Debug >> should test API endpoints directly
- Location: /Users/thomasdowuona-hyde/AIRWAVE_0525_CODEX/tests/e2e/brief-workflow-debug.spec.ts:261:7

# Error details

```
TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator('input[type="email"]') to be visible

    at /Users/thomasdowuona-hyde/AIRWAVE_0525_CODEX/tests/e2e/brief-workflow-debug.spec.ts:10:16
```

# Page snapshot

```yaml
- heading "AIrFLOW" [level=2]
- paragraph: AI-Powered Content Management Platform
- paragraph: Create, manage, and optimize your digital content with the power of AI.
- button "Login"
- button "Get Started"
- button "Open Tanstack query devtools":
  - img
- alert
- button "Open Next.js Dev Tools":
  - img
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import path from 'path';
   3 |
   4 | test.describe('Brief Workflow Debug', () => {
   5 |   test.beforeEach(async ({ page }) => {
   6 |     // Navigate to the app
   7 |     await page.goto('/');
   8 |     
   9 |     // Handle login
>  10 |     await page.waitForSelector('input[type="email"]', { timeout: 10000 });
      |                ^ TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
   11 |     await page.fill('input[type="email"]', 'tomh@redbaez.com');
   12 |     await page.fill('input[type="password"]', 'password123');
   13 |     await page.click('button[type="submit"]');
   14 |     
   15 |     // Wait for dashboard to load
   16 |     await page.waitForURL('/dashboard', { timeout: 15000 });
   17 |     await expect(page).toHaveURL('/dashboard');
   18 |   });
   19 |
   20 |   test('should complete full brief workflow with debug info', async ({ page }) => {
   21 |     console.log('=== Starting Brief Workflow Test ===');
   22 |     
   23 |     // Step 1: Navigate to flow page
   24 |     console.log('1. Navigating to flow page...');
   25 |     await page.goto('/flow');
   26 |     await page.waitForLoadState('networkidle');
   27 |     
   28 |     // Take screenshot of initial state
   29 |     await page.screenshot({ path: 'debug-flow-initial.png', fullPage: true });
   30 |     
   31 |     // Step 2: Open brief workflow
   32 |     console.log('2. Looking for brief workflow trigger...');
   33 |     
   34 |     // Look for any button that might trigger the brief workflow
   35 |     const briefButtons = await page.locator('button:has-text("Brief"), button:has-text("Upload"), button:has-text("Brief Workflow")').all();
   36 |     console.log(`Found ${briefButtons.length} potential brief buttons`);
   37 |     
   38 |     if (briefButtons.length === 0) {
   39 |       // Try to find any upload or workflow related elements
   40 |       const uploadElements = await page.locator('[data-testid*="upload"], [class*="upload"], [class*="brief"]').all();
   41 |       console.log(`Found ${uploadElements.length} upload/brief related elements`);
   42 |       
   43 |       if (uploadElements.length > 0) {
   44 |         console.log('Clicking first upload/brief element...');
   45 |         await uploadElements[0].click();
   46 |       } else {
   47 |         // Look for any dialog or modal triggers
   48 |         const modalTriggers = await page.locator('button, [role="button"]').all();
   49 |         console.log(`Total interactive elements: ${modalTriggers.length}`);
   50 |         
   51 |         // Click the first button that might open a dialog
   52 |         for (const trigger of modalTriggers.slice(0, 5)) {
   53 |           const text = await trigger.textContent();
   54 |           console.log(`Button text: "${text}"`);
   55 |           if (text && (text.includes('Brief') || text.includes('Upload') || text.includes('Workflow'))) {
   56 |             await trigger.click();
   57 |             break;
   58 |           }
   59 |         }
   60 |       }
   61 |     } else {
   62 |       console.log('Clicking brief button...');
   63 |       await briefButtons[0].click();
   64 |     }
   65 |     
   66 |     // Wait for dialog/modal to appear
   67 |     await page.waitForTimeout(2000);
   68 |     await page.screenshot({ path: 'debug-after-brief-click.png', fullPage: true });
   69 |     
   70 |     // Step 3: Look for file upload area
   71 |     console.log('3. Looking for file upload area...');
   72 |     
   73 |     // Check if dialog is open
   74 |     const dialog = page.locator('[role="dialog"], .MuiDialog-root, [class*="dialog"]');
   75 |     const isDialogVisible = await dialog.isVisible().catch(() => false);
   76 |     console.log(`Dialog visible: ${isDialogVisible}`);
   77 |     
   78 |     if (isDialogVisible) {
   79 |       await page.screenshot({ path: 'debug-dialog-open.png', fullPage: true });
   80 |     }
   81 |     
   82 |     // Look for dropzone or file input
   83 |     const dropzone = page.locator('[data-testid="dropzone"], [class*="dropzone"], input[type="file"]').first();
   84 |     const dropzoneVisible = await dropzone.isVisible().catch(() => false);
   85 |     console.log(`Dropzone visible: ${dropzoneVisible}`);
   86 |     
   87 |     if (!dropzoneVisible) {
   88 |       // Look for any element that might be a drop area
   89 |       const dropAreas = await page.locator('[class*="drop"], [class*="upload"], [data-testid*="upload"]').all();
   90 |       console.log(`Found ${dropAreas.length} potential drop areas`);
   91 |       
   92 |       if (dropAreas.length > 0) {
   93 |         await dropAreas[0].screenshot({ path: 'debug-drop-area.png' });
   94 |       }
   95 |     }
   96 |     
   97 |     // Step 4: Upload the brief file
   98 |     console.log('4. Uploading brief file...');
   99 |     
  100 |     const briefFilePath = path.join(process.cwd(), '..', 'documents', 'redbaez airwave brief.docx');
  101 |     console.log(`Brief file path: ${briefFilePath}`);
  102 |     
  103 |     // Try different upload methods
  104 |     try {
  105 |       // Method 1: Direct file input
  106 |       const fileInput = page.locator('input[type="file"]');
  107 |       if (await fileInput.isVisible()) {
  108 |         console.log('Using direct file input...');
  109 |         await fileInput.setInputFiles(briefFilePath);
  110 |       } else {
```